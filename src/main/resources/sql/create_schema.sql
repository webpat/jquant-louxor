CREATE TABLE IF NOT EXISTS TICKER_STOCK
(	INTERNAL_CODE VARCHAR(255),
	INSTRUMENT_ID INTEGER,
	NAME VARCHAR(255),
	QUOTE_PERCENT NUMERIC,
	ISSUER_ID INTEGER,
	ISSUER_NAME VARCHAR(255),
	ISSUE_AMOUNT INTEGER,
	DIVIDEND_FREQUENCY VARCHAR(30),
	LOT_SIZE INTEGER,
	PROVIDER_ID INTEGER,
	PROVIDER_NAME VARCHAR(30),
	TICKER_ID INTEGER NOT NULL,
 	TICKER VARCHAR(255),
 	PROVIDER_MARKET_NAME VARCHAR(30),
 	MIC_ID INTEGER,
 	MIC_CODE VARCHAR(30),
 	ACRONYM VARCHAR(30),
 	DESCRIPTION VARCHAR(255),
 	CITY VARCHAR(30),
 	PAYMENT_CURRENCY VARCHAR(30),
 	FUNDAMENTAL_CURRENCY VARCHAR(30),
 	UPDATE_FREQUENCY VARCHAR(1),
 	QUOTATION_FACTOR NUMERIC,
 	FIRST_QUOTE DATE,
 	LAST_QUOTE DATE,
 	START_DATE DATE,
 	DAILY_UPDATE INTEGER,
 	LAST_UPDATE VARCHAR(30),
 	CONSTRAINT TICKER__PK PRIMARY KEY(TICKER_ID)
 );
 	
CREATE TABLE IF NOT EXISTS  CANDLE_STOCK
(	TICKER_ID INTEGER NOT NULL,
	NAME VARCHAR(255),
	INTERNAL_CODE VARCHAR(255),
	TICKER VARCHAR(255),
	MIC_CODE VARCHAR(30),
	PAYMENT_CURRENCY VARCHAR(30),
	TIMESTAMP DATE,
	OPEN NUMERIC,
	HIGH NUMERIC,
	LOW NUMERIC,
	CLOSE NUMERIC,
	VOLUME INTEGER,
	VWAP NUMERIC,
	OPEN_INTEREST NUMERIC,
	CONSTRAINT FK_CANDLE_TICKER FOREIGN KEY (TICKER_ID) references TICKER_STOCK(TICKER_ID)
	);
	
alter table candle_stock add index candle_IDX (ticker_id,timestamp);
